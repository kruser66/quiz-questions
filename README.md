# Делаем викторину

Чат-бот предназанчен для проведения викторин в `Telegram` и `ВКонтакте`. Участник выбирает "Новый вопрос" и пытается дать ответ.
Если ответа нет, то можно нажать "Сдаться" и получить верный ответ и комментарий к нему. Ведется подсчет верных ответов.

Сама викторина представляет собой массив со следующей структурой:
```python
{
	'Вопрос': 'Текст вопроса',
	'Ответ': 'Ответ на вопрос',
	'Комментарий': 'Возможно указать комментрий к ответу',
}
```

## Пример работы бота-викторины

1. Чат-бот в сообществе `ВКонтакте`. Можно попробовать [тут](https://vk.com/im?sel=-194825636).

![Чат-бот в сообществе ВКонтакте](https://github.com/kruser66/quiz-questions/blob/main/screenshots/vk_quiz_example.gif)

2. Чат-бот в `Телеграм`. Можно попробовать [тут](https://t.me/kruser_quiz_bot).

![Чат-бот в Телеграм](https://github.com/kruser66/quiz-questions/blob/main/screenshots/tg_quiz_example.gif)


# Как установить

Python3 должен быть уже установлен. Затем используйте pip (или pip3, если есть конфликт с Python2) для установки зависимостей:

```python
pip install -r requirements.txt
```
Для учета результатов и контроля ответов понадобится база данных Redis.
1. Зарегистрируйтесь или войдите под своей учетной записью на сайт [Redis](https://app.redislabs.com/)
2. Создать новый `Subscriptions`
3. Создать новую базу данных в разделе `Databases`, получить адрес доступа, порт и пароль к ней.


## Пример использования

## Для работы чат-бота понадобятся следующие переменные окружения:
- Токен для бота Telegram:

```
TG_BOT_TOKEN='YOUR_TELEGRAM_BOT_TOKEN'
```

- Для чат-бота в ВКонтакте понадобится:

```
VK_GROUP_TOKEN='YOUR_VK_GROUP_TOKEN'
```
- Для работы с базой данных Redis:

```
DB_REDIS='REDIS_DB_URL'
```
```
DB_PORT='REDIS_DB_PORT'
```
```
DB_PASSWORD='REDIS_DB_PASSWORD'
```


Права доступа: сообщения сообщества


## Запуск модуля чат-бота Telegram

```
python tg_quiz.py
```

## Запуск модуля чат-бота ВКонтакте

```
python vk_quiz.py
```

## Подготовка вопросов викторины

Модуль `quiz_maker.py` готовит структуру данных для чат-бота из структрурированных файлов виктори (примеры в папке `examples`). Файлы должны находиться папке `files` для корректной работы скрипта подготовки.
```
python quiz_maker.py
```

# Цель проекта

Код написан в образовательных целях на онлайн-курс для веб-разработчиков [Devman](dvmn.org).